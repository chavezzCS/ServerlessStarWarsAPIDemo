{"code":"__filename=\"D:\\\\Desktop\\\\projects\\\\autocheck\\\\DeployFiles\\\\Softek_Challenge\\\\src\\\\handlers\\\\fusionados.ts\";(()=>{\nvar __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __hasOwnProp=Object.prototype.hasOwnProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:true})};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from===\"object\"||typeof from===\"function\"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toCommonJS=mod=>__copyProps(__defProp({},\"__esModule\",{value:true}),mod);var fusionados_exports={};__export(fusionados_exports,{handler:()=>handler});module.exports=__toCommonJS(fusionados_exports);var import_starwars=require(\"../services/starwars\");var import_elevacion=require(\"../services/elevacion\");var import_dynamo=require(\"../services/dynamo\");var import_responses=require(\"../utils/responses\");const handler=__name(async event=>{try{const planet=event.queryStringParameters?.planet;if(!planet)return(0,import_responses.badRequest)(\"Debe indicar un planeta\");const cached=await(0,import_dynamo.getItem)(planet);if(cached&&Date.now()-cached.timestamp<30*60*1e3){return(0,import_responses.ok)({source:\"cache\",data:cached})}const planetData=await(0,import_starwars.getPlanetData)(planet);if(!planetData)return(0,import_responses.badRequest)(\"Planeta no encontrado\");const lat=Math.random()*90;const lon=Math.random()*180;const elevacion=await(0,import_elevacion.getElevacion)(lat,lon);const combined={id:planet,timestamp:Date.now(),tipo:\"fusionado\",nombrePlaneta:planetData.name,elevacion};await(0,import_dynamo.saveItem)(combined);return(0,import_responses.ok)({source:\"api\",data:combined})}catch(err){console.error(err);return(0,import_responses.serverError)(\"Error interno\")}},\"handler\");0&&(module.exports={handler});\n})()\n","warnings":[],"map":{"version":3,"mappings":";suBAAA,6HACA,oBAA8B,gCAC9B,qBAA6B,iCAC7B,kBAAkC,8BAClC,qBAA4C,8BAErC,MAAM,QAAkC,aAAO,OAAU,CAC9D,GAAI,CACF,MAAM,OAAS,MAAM,uBAAuB,OAC5C,GAAI,CAAC,OAAQ,SAAO,6BAAW,yBAAyB,EAGxD,MAAM,OAAS,QAAM,uBAAQ,MAAM,EACnC,GAAI,QAAU,KAAK,IAAI,EAAI,OAAO,UAAY,GAAK,GAAK,IAAM,CAC5D,SAAO,qBAAG,CAAE,OAAQ,QAAS,KAAM,MAAO,CAAC,CAC7C,CAGA,MAAM,WAAa,QAAM,+BAAc,MAAM,EAC7C,GAAI,CAAC,WAAY,SAAO,6BAAW,uBAAuB,EAG1D,MAAM,IAAM,KAAK,OAAO,EAAI,GAC5B,MAAM,IAAM,KAAK,OAAO,EAAI,IAC5B,MAAM,UAAY,QAAM,+BAAa,IAAK,GAAG,EAE7C,MAAM,SAAW,CACf,GAAI,OACJ,UAAW,KAAK,IAAI,EACpB,KAAM,YACN,cAAe,WAAW,KAC1B,SACF,EAEA,QAAM,wBAAS,QAAQ,EAEvB,SAAO,qBAAG,CAAE,OAAQ,MAAO,KAAM,QAAS,CAAC,CAC7C,OAAS,IAAK,CACZ,QAAQ,MAAM,GAAG,EACjB,SAAO,8BAAY,eAAe,CACpC,CACF,EAnC+C","names":[],"ignoreList":[],"sources":["D:\\Desktop\\projects\\autocheck\\DeployFiles\\Softek_Challenge\\src\\handlers\\fusionados.ts"],"sourcesContent":[null]}}